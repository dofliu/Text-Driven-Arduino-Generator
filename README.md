文字驅動的 Arduino 智慧生成系統
這是一個由大型語言模型（LLM, Gemini 1.5 Pro）驅動的智慧系統，旨在將自然語言描述直接轉換為功能完整的 Arduino 程式碼，並實現自動化驗證、修復與硬體部署。

此專案由 [您的姓名/實驗室名稱] 為「智慧自動化工程」領域的教學與快速原型開發而設計，目標是讓使用者（無論是工程師或學生）能夠專注於高階的邏輯與創新，而將繁瑣的底層硬體驅動程式碼交由 AI 處理。

核心功能
自然語言轉程式碼：使用者只需用中文或英文描述硬體配置和功能需求，系統即可生成對應的 Arduino (.ino) 程式碼。

智慧腳位分配與接線指南：當使用者未指定硬體腳位時，AI 會自動為 Seeeduino XIAO 分配可用腳位，並生成一份清晰的 Markdown 格式硬體接線指南。

非阻塞式程式碼：AI 被特別指示在處理多任務（如同時控制馬達和燈光）時，必須使用 millis() 函式，生成專業、高效、不卡頓的程式碼。

自動驗證與修復：系統會自動呼叫 arduino-cli 對 AI 生成的程式碼進行編譯驗證。如果失敗，會將錯誤訊息反饋給 AI，嘗試自動修復程式碼，大幅提高首次生成的成功率。

自動化環境設定：在編譯前，系統會自動分析程式碼中的 #include，並使用 arduino-cli 自動安裝所需的開發板核心與函式庫，解決本機與 IDE 環境不一致的問題。

一鍵部署：驗證通過的程式碼，可以透過網頁介面一鍵部署到自動檢測到的 Arduino 設備上。

線上編輯器：使用者可以在網頁上對 AI 生成的程式碼進行手動修改與微調，然後部署自己編輯後的版本，實現高效的人機協作。

系統架構
本系統採用前後端分離的架構：

後端: 使用 Python FastAPI 搭建，負責處理 API 請求、協調 AI 模型與部署工具。

前端: 純 HTML/CSS/JavaScript，提供直觀的使用者操作介面。

AI 大腦: 透過 API 呼叫 Google Gemini 1.5 Pro 模型，負責所有自然語言理解、程式碼生成與修復任務。

部署工具: 在後端呼叫 Arduino CLI，執行程式碼的編譯、函式庫安裝與硬體上傳。

安裝與設定
1. 前置需求
Python 3.8 或更高版本。

Git 版本控制工具。

Arduino CLI 命令列工具。

2. 下載專案
從 GitHub 上複製本專案：

git clone https://github.com/YourUsername/Text-Driven-Arduino-Generator.git
cd Text-Driven-Arduino-Generator

3. 安裝 Python 函式庫
在專案目錄下，執行以下指令安裝所有必要的函式庫：

pip install "fastapi[all]" requests pyserial

4. 設定 API 金鑰
您需要一個 Google Gemini API 金鑰。請在終端機中設定環境變數：

Windows (cmd):

set GOOGLE_API_KEY=您的API金鑰

macOS / Linux:

export GOOGLE_API_KEY=您的API金鑰

如何使用
在專案的根目錄下，透過終端機啟動 FastAPI 伺服器：

python main.py

伺服器啟動後，會顯示如下訊息：

🚀 啟動文字驅動Arduino自動生成系統...
🌐 請在瀏覽器中開啟: http://127.0.0.1:8000

打開瀏覽器，訪問 http://127.0.0.1:8000。

在「描述你的專案需求」的文字框中，輸入您的想法（例如：「我有一個 Seeeduino XIAO，接了一個按鈕和一個 LED。按下按鈕時，LED 亮起；放開按鈕時，LED 熄滅。」）。

點擊「AI 直接生成程式碼與接線指南」按鈕。

系統會顯示 AI 生成的接線指南和可編輯的程式碼。

您可以直接修改程式碼，然後點擊「部署到 Arduino」將其上傳到您的開發板。

未來展望
這個系統的核心是一個通用的「自然語言到機器指令」框架。基於這個成功的架構，未來的研究方向可以擴展到更廣泛的工業自動化領域，例如：

PLC 程式生成：將目標語言更換為結構化文本 (ST)，用於生成西門子、洛克威爾等主流 PLC 的控制程式。

CNC G-Code 生成：讓 AI 理解加工術語，直接生成工具機的 G-Code，並結合模擬器進行路徑驗證。

透過更換 AI 的專業知識模組和後端的執行工具，這個框架有潛力成為下一代智慧製造與自動化工程的重要開發平台。